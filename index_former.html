<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="site.title">Takahiro Matsunaga</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link rel="shortcut icon" type="image/png" href="images/nyankoA.png">

  <!-- æ—¢å­˜ã® style.css ã¯ãã®ã¾ã¾ä½¿ãˆã¾ã™ã€‚ä¸‹ã® <style> ã¯ãƒŠãƒ“å‘¨ã‚Šã®æœ€å°è¿½åŠ CSSã§ã™ã€‚ -->
<link rel="stylesheet" href="style.css">

</head>
<body>
  <header>
    <nav class="site-nav" aria-label="Primary" aria-expanded="false">
      <a href="#home" class="brand">
        <img src="images/nyankoA.jpeg" alt="" aria-hidden="true" />
        <span data-i18n="hero.name">Takahiro Matsunaga</span>
      </a>

      <!-- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ï¼ˆ860pxä»¥ä¸‹ã§è¡¨ç¤ºï¼‰ -->
      <button class="menu-toggle" id="menuBtn" type="button" aria-controls="primary-nav" aria-expanded="false" aria-label="Toggle menu">
        <!-- ã‚·ãƒ³ãƒ—ãƒ«ãªSVGã‚¢ã‚¤ã‚³ãƒ³ï¼ˆãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ï¼ã‚¯ãƒ­ãƒ¼ã‚ºã‚’CSSã§ã¯ãªãJSã§åˆ‡æ›¿ï¼‰ -->
        <svg id="iconBurger" width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
        <svg id="iconClose" width="24" height="24" viewBox="0 0 24 24" fill="none" style="display:none" aria-hidden="true">
          <path d="M6 6l12 12M18 6l-12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>

      <div class="menu-panel" id="menuPanel">
        <ul class="menu" id="primary-nav">
          <li><a href="index.html" data-i18n="nav.home">Home</a></li>
          <li><a href="research.html" data-i18n="nav.research">Research</a></li>
          <li><a href="publications.html" data-i18n="nav.publications">Publications</a></li>
          <li><a href="awards_grants.html" data-i18n="nav.awards">Awards/Grants</a></li>
          <li><a href="activities.html" data-i18n="nav.activities">Activities</a></li>
        </ul>

        <div class="lang-switch" aria-label="Language switcher">
          <button type="button" data-lang="en">ðŸ‡¬ðŸ‡§ En</button>
          <span>/</span>
          <button type="button" data-lang="ja">ðŸ‡¯ðŸ‡µ Jp</button>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <section id="home">
      <h1 data-i18n="hero.name">Takahiro Matsunaga</h1>
  
      <p data-i18n="hero.affiliation">Department of Civil Engineering, The University of Tokyo</p>
      <p><a href="http://bin.t.u-tokyo.ac.jp" target="_blank" data-i18n="hero.unit">Behavior in Networks (BinN) Studies Unit.</a></p>
      <p>
        <a href="mailto:matsunaga@bin.t.u-tokyo.ac.jp" target="_blank"><i class="fas fa-envelope"></i> <span data-i18n="hero.email">matsunaga[at]bin.t.u-tokyo.ac.jp</span></a><br>
        <a href="https://www.google.com/maps/place/7-3-1+Hongo,+Bunkyo-ku,+Tokyo+113-8656,+Japan" target="_blank"><i class="fas fa-map-marker-alt"></i> <span data-i18n="hero.address">7-3-1 Hongo, Bunkyo-ku, Tokyo 113-8656, Japan</span></a>
      </p>
      <p>
        <a href="tex/cv.pdf" target="_blank"><i class="fas fa-file-alt"></i> <span data-i18n="hero.cv">CV</span></a> |
        <a href="https://scholar.google.com/citations?user=fGWoyocAAAAJ&hl=ja" target="_blank"><i class="fas fa-graduation-cap"></i> <span data-i18n="hero.scholar">Google Scholar</span></a> |
        <a href="https://www.linkedin.com/in/takahiro-matsunaga-377864326/" target="_blank"><i class="fab fa-linkedin"></i> <span data-i18n="hero.linkedin">LinkedIn</span></a>
      </p>
      <p>
        <img src="images/home_image.jpeg" alt="Takahiro Matsunaga" class="profile-photo" data-i18n-attr='{"alt":"hero.imageAlt"}'>
      </p>
    </section>
  </main>

  <footer>
    <p data-i18n="site.footer">Â© 2025 Takahiro Matsunaga. All rights reserved.</p>
  </footer>

  <script>
    // ====== i18n è¾žæ›¸ï¼ˆå…ƒã‚³ãƒ¼ãƒ‰ã‚’çµ±åˆï¼‰ ======
    const I18N = {
      en: {
        "site.title": "Takahiro Matsunaga",
        "nav.home": "Home",
        "nav.research": "Research",
        "nav.publications": "Publications",
        "nav.activities": "Activities",
        "nav.awards": "Awards/Grants",
        "hero.name": "Takahiro Matsunaga",
        "hero.affiliation": "Department of Civil Engineering, The University of Tokyo",
        "hero.unit": "Ph.D student at Behavior in Networks (BinN) Studies Unit.",
        "hero.email": "matsunaga[at]bin.t.u-tokyo.ac.jp",
        "hero.address": "7-3-1 Hongo, Bunkyo-ku, Tokyo 113-8656, Japan",
        "hero.cv": "CV",
        "hero.scholar": "Google Scholar",
        "hero.linkedin": "LinkedIn",
        "hero.imageAlt": "Portrait of Takahiro Matsunaga",
        "site.footer": "Â© 2025 Takahiro Matsunaga. All rights reserved."
      },
      ja: {
        "site.title": "Takahiro Matsunaga",
        "nav.home": "è¡¨ç´™",
        "nav.research": "ç ”ç©¶",
        "nav.publications": "è«–æ–‡",
        "nav.awards": "å—è³žãƒ»åŠ©æˆé‡‘",
        "nav.activities": "ãã®ä»–æ´»å‹•",
        "hero.name": "æ¾æ°¸ éš†å®",
        "hero.affiliation": "æ±äº¬å¤§å­¦å¤§å­¦é™¢ å·¥å­¦ç³»ç ”ç©¶ç§‘ ç¤¾ä¼šåŸºç›¤å­¦å°‚æ”»",
        "hero.unit": "äº¤é€šãƒ»éƒ½å¸‚ãƒ»å›½åœŸå­¦ç ”ç©¶å®¤ï¼ˆBinNï¼‰ åšå£«èª²ç¨‹å­¦ç”Ÿ",
        "hero.email": "matsunaga[at]bin.t.u-tokyo.ac.jp",
        "hero.address": "ã€’113-8656 æ±äº¬éƒ½æ–‡äº¬åŒºæœ¬éƒ·7-3-1",
        "hero.cv": "CVï¼ˆå±¥æ­´æ›¸ï¼‰",
        "hero.scholar": "Google Scholar",
        "hero.linkedin": "LinkedIn",
        "hero.imageAlt": "æ¾æ°¸éš†å®ã®å†™çœŸ",
        "site.footer": "Â© 2025 Takahiro Matsunaga. ç¦ç„¡æ–­è»¢è¼‰"
      }
    };

    const $ = (q, r=document) => r.querySelector(q);
    const $$ = (q, r=document) => Array.from(r.querySelectorAll(q));

    function applyLang(lang) {
      const dict = I18N[lang] || I18N.en;

      $$('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (dict[key] != null) el.textContent = dict[key];
      });
      $$('[data-i18n-attr]').forEach(el => {
        try {
          const map = JSON.parse(el.getAttribute('data-i18n-attr'));
          Object.entries(map).forEach(([attr, key]) => {
            if (dict[key] != null) el.setAttribute(attr, dict[key]);
          });
        } catch(e) {}
      });

      document.documentElement.setAttribute('lang', lang);
      const titleEl = document.querySelector('title[data-i18n]');
      if (titleEl) titleEl.textContent = dict[titleEl.getAttribute('data-i18n')];

      $$('.lang-switch button').forEach(btn => {
        const on = btn.dataset.lang === lang;
        btn.style.textDecoration = on ? 'underline' : 'none';
        btn.style.opacity = on ? '1' : '.6';
        btn.setAttribute('aria-pressed', on ? 'true' : 'false');
      });

      try { localStorage.setItem('site.lang', lang); } catch(e) {}
    }

    const saved = (() => { try { return localStorage.getItem('site.lang'); } catch(e) { return null; } })();
    const defaultLang = saved || ((navigator.language || 'en').toLowerCase().startsWith('ja') ? 'ja' : 'en');
    applyLang(defaultLang);

    $$('.lang-switch button').forEach(btn => {
      btn.addEventListener('click', () => applyLang(btn.dataset.lang));
    });

    // ====== ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼åˆ¶å¾¡ ======
    const nav = document.querySelector('.site-nav');
    const menuBtn = document.getElementById('menuBtn');
    const iconBurger = document.getElementById('iconBurger');
    const iconClose = document.getElementById('iconClose');
    const menuPanel = document.getElementById('menuPanel');

    function setExpanded(on) {
      nav.setAttribute('aria-expanded', on ? 'true' : 'false');
      menuBtn.setAttribute('aria-expanded', on ? 'true' : 'false');
      iconBurger.style.display = on ? 'none' : 'block';
      iconClose.style.display = on ? 'block' : 'none';
    }

    menuBtn.addEventListener('click', () => {
      const open = nav.getAttribute('aria-expanded') === 'true';
      setExpanded(!open);
    });

    // ãƒ‘ãƒãƒ«å†…ã®ãƒªãƒ³ã‚¯ã‚’é¸ã‚“ã ã‚‰è‡ªå‹•ã‚¯ãƒ­ãƒ¼ã‚º
    $$('#primary-nav a').forEach(a => a.addEventListener('click', () => setExpanded(false)));

    // Esc ã§é–‰ã˜ã‚‹
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') setExpanded(false);
    });

    // ç”»é¢å¹…ã‚’åºƒã’ãŸã‚‰ï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«æˆ»ã£ãŸã‚‰ï¼‰çŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆ
    const mql = window.matchMedia('(min-width: 861px)');
    mql.addEventListener('change', e => { if (e.matches) setExpanded(false); });
  </script>
</body>
</html>
