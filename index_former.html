<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="site.title">Takahiro Matsunaga</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <nav style="display:flex; justify-content:space-between; align-items:center;">
            <ul style="display:flex; gap:1rem; margin:0; padding:0; list-style:none;">
                <li><a href="index.html" data-i18n="nav.home">Home</a></li>
                <li><a href="research.html" data-i18n="nav.research">Research</a></li>
                <li><a href="publications.html" data-i18n="nav.publications">Publications</a></li>
                <li><a href="awards_grants.html" data-i18n="nav.awards">Awards/Grants</a></li>
                <li><a href="activities.html" data-i18n="nav.activities">Activities</a></li>
            </ul>

            <div class="lang-switch" aria-label="Language switcher"
                style="display:flex; gap:.5rem; font-weight:700;">
            <button type="button" data-lang="en"
                    style="background:none;border:none;cursor:pointer;font:inherit;opacity:.6;">ğŸ‡¬ğŸ‡§ En</button>
            <span>/</span>
            <button type="button" data-lang="ja"
                    style="background:none;border:none;cursor:pointer;font:inherit;opacity:.6;">ğŸ‡¯ğŸ‡µ Jp</button>
            </div>
        </nav>
    </header>

    <main>
        <section id="home"> 
            <h1 data-i18n="hero.name">Takahiro Matsunaga</h1>
            <p data-i18n="hero.affiliation">
                Department of Civil Engineering, The University of Tokyo
            </p>
            <p>
                <a href="http://bin.t.u-tokyo.ac.jp" target="_blank" data-i18n="hero.unit"> Behavior in Networks (BinN) Studies Unit.</a> 
            </p>
            <p>
                <a href="mailto:matsunaga@bin.t.u-tokyo.ac.jp" target="_blank">
                    <i class="fas fa-envelope"></i> <span data-i18n="hero.email">matsunaga[at]bin.t.u-tokyo.ac.jp</span>
                </a>
                <br>
                <a href="https://www.google.com/maps/place/7-3-1+Hongo,+Bunkyo-ku,+Tokyo+113-8656,+Japan" target="_blank">
                    <i class="fas fa-map-marker-alt"></i> <span data-i18n="hero.address">7-3-1 Hongo, Bunkyo-ku, Tokyo 113-8656, Japan</span>
                </a>
            </p>

            <p>
                <a href="tex/cv.pdf" target="_blank"><i class="fas fa-file-alt"></i> <span data-i18n="hero.cv">CV</span></a> | 
                <a href="https://scholar.google.com/citations?user=fGWoyocAAAAJ&hl=ja" target="_blank"><i class="fas fa-graduation-cap"></i> <span data-i18n="hero.scholar">Google Scholar</span></a> |
                <a href="https://www.linkedin.com/in/takahiro-matsunaga-377864326/" target="_blank"><i class="fab fa-linkedin"></i> <span data-i18n="hero.linkedin">LinkedIn</span></a> 
            </p>

            <p>
                <img src="images/home_image.jpeg" alt="Takahiro Matsunaga" class="profile-photo"
                     data-i18n-attr='{"alt":"hero.imageAlt"}'>
            </p>
        </section>
    </main>

    <footer>
        <p data-i18n="site.footer">Â© 2025 Takahiro Matsunaga. All rights reserved.</p>
    </footer>

    <!-- è¨€èªåˆ‡æ›¿ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆæœ€å°æ§‹æˆãƒ»å¤–éƒ¨ä¾å­˜ãªã—ï¼‰ -->
    <script>
      // 1) å¯¾è¨³è¾æ›¸ï¼ˆå¿…è¦ã«å¿œã˜ã¦ã‚­ãƒ¼ã‚’è¿½åŠ ï¼‰
      const I18N = {
        en: {
          "site.title": "Takahiro Matsunaga",
          "nav.home": "Home",
          "nav.research": "Research",
          "nav.publications": "Publications",
          "nav.activities": "Activities",

          "hero.name": "Takahiro Matsunaga",
          "hero.affiliation": "Department of Civil Engineering, The University of Tokyo",
          "hero.unit": "Behavior in Networks (BinN) Studies Unit.",
          "hero.email": "matsunaga[at]bin.t.u-tokyo.ac.jp",
          "hero.address": "7-3-1 Hongo, Bunkyo-ku, Tokyo 113-8656, Japan",
          "hero.cv": "CV",
          "hero.scholar": "Google Scholar",
          "hero.linkedin": "LinkedIn",
          "hero.imageAlt": "Portrait of Takahiro Matsunaga",

          "site.footer": "Â© 2025 Takahiro Matsunaga. All rights reserved."
        },
        ja: {
          "site.title": "æ¾æ°¸ éš†å®",
          "nav.home": "è¡¨ç´™",
          "nav.research": "ç ”ç©¶",
          "nav.publications": "è«–æ–‡",
          "nav.awards": "å—è³ãƒ»åŠ©æˆé‡‘",
          "nav.activities": "ãã®ä»–æ´»å‹•",

          "hero.name": "æ¾æ°¸ éš†å®",
          "hero.affiliation": "æ±äº¬å¤§å­¦å¤§å­¦é™¢ å·¥å­¦ç³»ç ”ç©¶ç§‘ ç¤¾ä¼šåŸºç›¤å­¦å°‚æ”»",
          "hero.unit": "äº¤é€šãƒ»éƒ½å¸‚ãƒ»å›½åœŸå­¦ç ”ç©¶å®¤ï¼ˆBinNï¼‰",
          "hero.email": "matsunaga[at]bin.t.u-tokyo.ac.jp",
          "hero.address": "ã€’113-8656 æ±äº¬éƒ½æ–‡äº¬åŒºæœ¬éƒ·7-3-1",
          "hero.cv": "CVï¼ˆå±¥æ­´æ›¸ï¼‰",
          "hero.scholar": "Google Scholar",
          "hero.linkedin": "LinkedIn",
          "hero.imageAlt": "æ¾æ°¸éš†å®ã®å†™çœŸ",

          "site.footer": "Â© 2025 Takahiro Matsunaga. ç¦ç„¡æ–­è»¢è¼‰"
        }
      };

      // 2) ç½®æ›ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
      const $ = (q, r=document) => r.querySelector(q);
      const $$ = (q, r=document) => Array.from(r.querySelectorAll(q));

      function applyLang(lang) {
        const dict = I18N[lang] || I18N.en;

        // ãƒ†ã‚­ã‚¹ãƒˆç½®æ›
        $$("[data-i18n]").forEach(el => {
          const key = el.getAttribute("data-i18n");
          if (dict[key] != null) el.textContent = dict[key];
        });

        // å±æ€§ç½®æ›ï¼ˆaltç­‰ï¼‰
        $$("[data-i18n-attr]").forEach(el => {
          try {
            const map = JSON.parse(el.getAttribute("data-i18n-attr"));
            Object.entries(map).forEach(([attr, key]) => {
              if (dict[key] != null) el.setAttribute(attr, dict[key]);
            });
          } catch(e) {}
        });

        // <html lang> ã¨ <title> æ›´æ–°
        document.documentElement.setAttribute("lang", lang);
        const titleEl = document.querySelector("title[data-i18n]");
        if (titleEl) titleEl.textContent = dict[titleEl.getAttribute("data-i18n")];

        // ãƒˆã‚°ãƒ«ã®è¦‹ãŸç›®ï¼ˆä¸‹ç·šï¼†åŠé€æ˜ï¼‰ã‚’æœ€å°é™ã§
        $$(".lang-switch button").forEach(btn => {
          const on = btn.dataset.lang === lang;
          btn.style.textDecoration = on ? "underline" : "none";
          btn.style.opacity = on ? "1" : ".6";
          btn.setAttribute("aria-pressed", on ? "true" : "false");
        });

        // æ°¸ç¶šåŒ–
        try { localStorage.setItem("site.lang", lang); } catch(e) {}
      }

      // 3) åˆæœŸè¡¨ç¤ºï¼šä¿å­˜ï¼ãƒ–ãƒ©ã‚¦ã‚¶è¨€èª
      const saved = (() => { try { return localStorage.getItem("site.lang"); } catch(e) { return null; } })();
      const defaultLang = saved || ((navigator.language || "en").toLowerCase().startsWith("ja") ? "ja" : "en");
      applyLang(defaultLang);

      // 4) ã‚¯ãƒªãƒƒã‚¯ã§åˆ‡æ›¿
      $$(".lang-switch button").forEach(btn => {
        btn.addEventListener("click", () => applyLang(btn.dataset.lang));
      });
    </script>
</body>
</html>
