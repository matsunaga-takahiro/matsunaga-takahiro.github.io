<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="site.title">Takahiro Matsunaga</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link rel="shortcut icon" type="image/png" href="images/nyankoA.png">
  <link rel="stylesheet" href="style.css">

  <style>
    /* è¿½åŠ : ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã‚¢ã‚¤ã‚³ãƒ³åˆ‡ã‚Šæ›¿ãˆç”¨CSS */
    /* JSã§ style.display ã‚’ã„ã˜ã‚‹ã®ã‚’ã‚„ã‚ã€å±æ€§ã‚»ãƒ¬ã‚¯ã‚¿ã§åˆ¶å¾¡ã—ã¾ã™ */
    .menu-toggle[aria-expanded="true"] #iconBurger { display: none; }
    .menu-toggle[aria-expanded="true"] #iconClose  { display: block; }
    .menu-toggle[aria-expanded="false"] #iconBurger { display: block; }
    .menu-toggle[aria-expanded="false"] #iconClose  { display: none; }

    /* è¿½åŠ : è‡ªå·±ç´¹ä»‹æ–‡ã®ä½™ç™½èª¿æ•´ */
    .bio-text {
      margin-top: 1rem;
      margin-bottom: 1.5rem;
      font-weight: 500; /* å°‘ã—ã ã‘å¤ªãã—ã¦èª­ã¿ã‚„ã™ã */
    }
  </style>
</head>
<body>
  <header>
    <nav class="site-nav" aria-label="Primary" aria-expanded="false">
      <a href="#home" class="brand">
        <img src="images/nyankoA.jpeg" alt="" aria-hidden="true" />
        <span data-i18n="hero.name">Takahiro Matsunaga</span>
      </a>

      <button class="menu-toggle" id="menuBtn" type="button" aria-controls="primary-nav" aria-expanded="false" aria-label="Toggle menu">
        <svg id="iconBurger" width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
        <svg id="iconClose" width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M6 6l12 12M18 6l-12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>

      <div class="menu-panel" id="menuPanel">
        <ul class="menu" id="primary-nav">
          <li><a href="index.html" data-i18n="nav.home">Home</a></li>
          <li><a href="research.html" data-i18n="nav.research">Research</a></li>
          <li><a href="publications.html" data-i18n="nav.publications">Publications</a></li>
          <li><a href="awards_grants.html" data-i18n="nav.awards">Awards/Grants</a></li>
          <li><a href="activities.html" data-i18n="nav.activities">Activities</a></li>
        </ul>

        <div class="lang-switch" aria-label="Language switcher">
          <button type="button" data-lang="en">ğŸ‡¬ğŸ‡§ En</button>
          <span>/</span>
          <button type="button" data-lang="ja">ğŸ‡¯ğŸ‡µ Jp</button>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <section id="home">
      <h1 data-i18n="hero.name">Takahiro Matsunaga</h1>
  
      <!-- <p data-i18n="hero.affiliation">Department of Civil Engineering, The University of Tokyo</p>
      <p><a href="http://bin.t.u-tokyo.ac.jp" target="_blank" data-i18n="hero.unit">Behavior in Networks (BinN) Studies Unit.</a></p> -->

      <p class="bio-text" data-i18n="hero.bio">
        Hello, I am now pursuing Ph.D degree.
      </p>
  
      <!-- å¤§å­¦ã‚¢ã‚¤ã‚³ãƒ³ (fa-university) ã‚’è¿½åŠ  -->
      <p>
        <i class="fas fa-university icon-text-gap"></i>
        <span data-i18n="hero.affiliation">Department of Civil Engineering, The University of Tokyo</span>
      </p>
      <!-- ç ”ç©¶å®¤ã‚¢ã‚¤ã‚³ãƒ³ (fa-network-wired) ã‚’è¿½åŠ  -->
      <p>
        <a href="http://bin.t.u-tokyo.ac.jp" target="_blank">
          <i class="fas fa-network-wired icon-text-gap"></i>
          <span data-i18n="hero.unit">Behavior in Networks (BinN) Studies Unit.</span>
        </a>
      </p>
      <p>
        <a href="mailto:matsunaga@bin.t.u-tokyo.ac.jp" target="_blank"><i class="fas fa-envelope"></i> <span data-i18n="hero.email">matsunaga[at]bin.t.u-tokyo.ac.jp</span></a><br>
      </p>
      <p>
        <a href="https://www.google.com/maps/search/?api=1&query=7-3-1+Hongo,+Bunkyo-ku,+Tokyo" target="_blank"><i class="fas fa-map-marker-alt"></i> <span data-i18n="hero.address">7-3-1 Hongo, Bunkyo-ku, Tokyo 113-8656, Japan</span></a>
      </p>
      <p>
        <a href="tex/cv.pdf" target="_blank"><i class="fas fa-file-alt"></i> <span data-i18n="hero.cv">CV</span></a> |
        <a href="https://scholar.google.com/citations?user=fGWoyocAAAAJ&hl=ja" target="_blank"><i class="fas fa-graduation-cap"></i> <span data-i18n="hero.scholar">Google Scholar</span></a> |
        <a href="https://www.linkedin.com/in/takahiro-matsunaga-377864326/" target="_blank"><i class="fab fa-linkedin"></i> <span data-i18n="hero.linkedin">LinkedIn</span></a> |
        <a href="https://matsunaga-takahiro.github.io/note/" target="_blank"><i class="fab fa-sticky-note"></i> <span data-i18n="hero.note">Note</span></a> 
      </p>
      <p>
        <img src="images/home_image.jpeg" alt="Takahiro Matsunaga" class="profile-photo" data-i18n-attr='{"alt":"hero.imageAlt"}'>
      </p>
    </section>
  </main>

  <footer>
    <p data-i18n="site.footer">Â© 2025 Takahiro Matsunaga. All rights reserved.</p>
  </footer>

  <script>
    // ====== i18n Dictionary ======
    const I18N = {
      en: {
        "site.title": "Takahiro Matsunaga",
        "nav.home": "Home",
        "nav.research": "Research",
        "nav.publications": "Publications",
        "nav.activities": "Activities",
        "nav.awards": "Awards/Grants",
        "hero.name": "Takahiro Matsunaga | æ¾æ°¸éš†å®",
        "hero.affiliation": "Department of Civil Engineering, The University of Tokyo",
        "hero.unit": "Ph.D student at Behavior in Networks (BinN) Studies Unit.",
        "hero.bio": "Hello! I am currently pursuing a Ph.D. at the University of Tokyo. My research interests broadly encompass the modeling and control of human behavior in transportation networks, ranging from the observation and modeling of microscopic pedestrian dynamics to the prediction of macroscopic day-to-day activity demand and the mechanism design of control platforms.",
        "hero.email": "matsunaga[at]bin.t.u-tokyo.ac.jp",
        "hero.address": "7-3-1 Hongo, Bunkyo-ku, Tokyo 113-8656, Japan",
        "hero.cv": "CV",
        "hero.scholar": "Google Scholar",
        "hero.linkedin": "LinkedIn",
        "hero.imageAlt": "Portrait of Takahiro Matsunaga",
        "site.footer": "Â© 2025 Takahiro Matsunaga. All rights reserved."
      },
      ja: {
        "site.title": "Takahiro Matsunaga",
        "nav.home": "è¡¨ç´™",
        "nav.research": "ç ”ç©¶",
        "nav.publications": "è«–æ–‡",
        "nav.awards": "å—è³ãƒ»åŠ©æˆé‡‘",
        "nav.activities": "ãã®ä»–æ´»å‹•",
        "hero.name": "Takahiro Matsunaga | æ¾æ°¸éš†å®",
        "hero.affiliation": "æ±äº¬å¤§å­¦å¤§å­¦é™¢ å·¥å­¦ç³»ç ”ç©¶ç§‘ ç¤¾ä¼šåŸºç›¤å­¦å°‚æ”»",
        "hero.unit": "äº¤é€šãƒ»éƒ½å¸‚ãƒ»å›½åœŸå­¦ç ”ç©¶å®¤ï¼ˆBinNï¼‰ åšå£«èª²ç¨‹",
        "hero.bio": "æ±äº¬å¤§å­¦å¤§å­¦é™¢ã®åšå£«èª²ç¨‹ã«åœ¨ç±ã—ã¦ã„ã¾ã™ï¼ãƒŸã‚¯ãƒ­ã‚¹ã‚±ãƒ¼ãƒ«ã«ãŠã‘ã‚‹æ­©è¡Œè€…æŒ™å‹•ã®è¦³æ¸¬ãƒ»ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã‹ã‚‰ãƒã‚¯ãƒ­ã‚¹ã‚±ãƒ¼ãƒ«ãªæ´»å‹•éœ€è¦ã®äºˆæ¸¬ã¨ãã®åˆ¶å¾¡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®æ§‹ç¯‰ã¾ã§ï¼Œä¸»ã«äº¤é€šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ãŠã‘ã‚‹äººé–“ã®è¡Œå‹•ã®ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã¨åˆ¶å¾¡ã«å¹…åºƒãé–¢å¿ƒã‚’æŒã£ã¦ã„ã¾ã™ï¼",
        "hero.email": "matsunaga[at]bin.t.u-tokyo.ac.jp",
        "hero.address": "ã€’113-8656 æ±äº¬éƒ½æ–‡äº¬åŒºæœ¬éƒ·7-3-1",
        "hero.cv": "CVï¼ˆå±¥æ­´æ›¸ï¼‰",
        "hero.scholar": "Google Scholar",
        "hero.linkedin": "LinkedIn",
        "hero.note": "Note",
        "hero.imageAlt": "æ¾æ°¸éš†å®ã®å†™çœŸ",
        "site.footer": "Â© 2025 Takahiro Matsunaga. ç¦ç„¡æ–­è»¢è¼‰"
      }
    };

    // Helper functions
    const $ = (q, r=document) => r.querySelector(q);
    const $$ = (q, r=document) => Array.from(r.querySelectorAll(q));

    function applyLang(lang) {
      const dict = I18N[lang] || I18N.en;

      // Text content update
      $$('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (dict[key]) el.textContent = dict[key];
      });

      // Attribute update (alt, etc.)
      $$('[data-i18n-attr]').forEach(el => {
        try {
          const map = JSON.parse(el.getAttribute('data-i18n-attr'));
          Object.keys(map).forEach(attr => {
            const key = map[attr];
            if (dict[key]) el.setAttribute(attr, dict[key]);
          });
        } catch(e) { console.error("i18n parse error", e); }
      });

      document.documentElement.lang = lang;
      
      // Update Title tag specifically if needed
      const titleEl = $('title[data-i18n]');
      if (titleEl && dict[titleEl.getAttribute('data-i18n')]) {
        document.title = dict[titleEl.getAttribute('data-i18n')];
      }

      // Button Styles
      $$('.lang-switch button').forEach(btn => {
        const isActive = btn.dataset.lang === lang;
        btn.style.textDecoration = isActive ? 'underline' : 'none';
        btn.style.opacity = isActive ? '1' : '.6';
        btn.setAttribute('aria-pressed', isActive);
      });

      try { localStorage.setItem('site.lang', lang); } catch(e) {}
    }

    // Initialize Language
    const savedLang = localStorage.getItem('site.lang');
    const browserLang = (navigator.language || 'en').toLowerCase().startsWith('ja') ? 'ja' : 'en';
    applyLang(savedLang || browserLang);

    // Event Listeners for Language Switch
    $$('.lang-switch button').forEach(btn => 
      btn.addEventListener('click', () => applyLang(btn.dataset.lang))
    );

    // ====== Mobile Menu Logic (Simplified) ======
    const nav = $('.site-nav');
    const menuBtn = $('#menuBtn');

    function setExpanded(on) {
      // CSS handles the icon switching based on this attribute
      nav.setAttribute('aria-expanded', on);
      menuBtn.setAttribute('aria-expanded', on);
    }

    menuBtn.addEventListener('click', () => {
      const isOpen = nav.getAttribute('aria-expanded') === 'true';
      setExpanded(!isOpen);
    });

    // Close menu when clicking links or pressing Esc
    $$('#primary-nav a').forEach(a => a.addEventListener('click', () => setExpanded(false)));
    
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') setExpanded(false);
    });

    // Reset when resizing to desktop
    window.matchMedia('(min-width: 861px)').addEventListener('change', e => {
      if (e.matches) setExpanded(false);
    });
  </script>
</body>
</html>